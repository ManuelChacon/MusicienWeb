<div id="page-contents">
    <div class="container-fluid">

      <div class="row">


        <div class="col-md-3 sidebar"  >

          <mini-perfil></mini-perfil>

          <top-semanal ></top-semanal>
          <top-musicos ></top-musicos>

        </div>


      <div ng-controller="TabsDemoCtrl" class="col-md-6 post-content ">
      <div class="text-center">
              <h2>Más detalles sobre tí</h2>
              <p class="">Puedes cambiar o añadir un nuevo perfil en Musicien </p>
            </div>
        <form name="outerForm" class="tab-form-demo">

          <uib-tabset active="active" justified="true">
          <!--  TAB 1 PERFIL -->
            <uib-tab index="0" heading="EDITAR PERFIL">
             <ng-form name="">
                <div class="form-group mb-5">
                    <label for="exampleFormControlInput1">Nombre de Usuario</label>
                     <input type="text" class="form-control" id="" placeholder="{{usuario.Nombre}}" ng-model="usuario.Nombre">
                    <small id="passwordHelpBlock" class="form-text text-muted">
                        Tu nombre de Usuario es <strong>{{usuario.Nombre}}</strong>
                    </small>
                </div>
                <div class="row mb-5">
                    <div class="col-6">
                      <div class="form-group">
                          <label for="exampleFormControlFile1">Sube una imagen para tu perfil</label>
                        <input type="file" class="form-control-file" id="exampleFormControlFile1" onchange="previsualizarFoto()">
                      </div>
                    </div>
                    <div class="col-6">
                    <!--   {{inputSeleccionada()}} -->
                      <img alt="" id="img-contenedor" class="profile-photo-md pull-left m-1 " ng-click="cambiarPorInput()" ng-class="inputSeleccionada()">
                      <!-- {{actualSeleccionada()}} -->
                      <img ng-src="{{usuario.DataContenidoMM}}" alt="post-image" class="profile-photo-md pull-left m-1" ng-class="actualSeleccionada()" ng-click="cambiarPorActual()">
                    </div>
                  </div>
                  <div class="row mb-5">
                      <div class="col-6">
                        <div class="form-group">
                            <label for="exampleFormControlFile2">Sube una imagen para tu fondo de perfil</label>
                          <input type="file" class="form-control-file" id="exampleFormControlFile2" onchange="previsualizarFondo()">
                        </div>
                      </div>
                      <div class="col-6">
                       <!--  {{inputFondoSeleccionada()}} -->
                        <img alt="" id="imgfondo-contenedor" class="profile-photo-md pull-left m-1 " ng-click="cambiarFondoPorInput()" ng-class="inputFondoSeleccionada()">
                       <!--  {{actualFondoSeleccionada()}} -->
                        <img ng-src="{{usuario.DataContenidoMMBanner}}" alt="post-image" class="profile-photo-md pull-left m-1" ng-class="actualFondoSeleccionada()" ng-click="cambiarFondoPorActual()">
                        <!--  <img src="img/conecta.png" alt="" class="profile-photo-md pull-left m-1">
 -->
                      </div>
                    </div>
                  <div class="row mb-2">
                    <div class="col-12">
                        <label for="">Escribe algo sobre tí, gustos, aficiones,etc.. </label>
                        <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" placeholder="Me gusta leer, viajar, la buena musica..."></textarea>
                      </div>
                  </div>

                  <div class="row">
                        <div class="col-6">
                        <div class="ng-cloak" ng-controller="DemoCtrl as ctrl">





                        </div>

                        <div id="perfiles" ng-repeat="tipoObjeto in usuario.TiposObjeto">
                          <span ng-hide="!esTipoObjeto('T',tipoObjeto)">
                           <!--  {{tipoObjeto.NombreTipoObjeto}} -->
                          <div class="badge badge-dark ml-2" ng-repeat="objeto in tipoObjeto.Objetos">
                            {{objeto.NombreObjeto}}
                          </div>
                          </span>
                          <!-- <span ng-hide="!esTipoObjeto('P',tipoObjeto)">
                            {{tipoObjeto.NombreTipoObjeto}}
                            <div ng-repeat="objeto in tipoObjeto.Objetos">
                              {{objeto.NombreObjeto}}
                            </div>
                          </span> -->

                        </div>



                      </div>






                      </div>

                      <div class="row pt-2">
                        <div class="col-6 offset-6 text-right">
                          <button type="" class="btn btn-sm btn-primary" ng-click="guardarCambiosUsuario()">Guardar Cambios</button>
                        </div>
                      </div>

                      <hr>

              </ng-form>
               <div class="row">
                <div class="col text-center mb-2">
                  <h2>Mis Perfiles</h2>
                  <small>Selecciona uno de tus perfiles para editarlos o crea uno nuevo</small>
                </div>
              </div>
               <div class="row justify-content-center pt-3">



                 <div ng-click="selectPerfil($index)" class="col-2 rol p-2 m-1 text-center " ng-repeat="perfil in usuario.Categorias">

                     <img ng-src="{{perfil.DataContenidoMM}}" alt="" class="img-fluid d-block mx-auto ico-perfil" style="width: 40px;">
                     <!--<span ng-repeat="propiedad in perfil.Propiedades"> {{propiedad.Valor}}</span>-->
                     <a class='mostrar-rol'><small>{{perfil.Descripcion}}</small></a>

                </div>


                <div ng-click="anadirPerfil()" class="col-2 rol p-2 m-1 text-center ">
                   <img src="img/anadir.png" alt="" class="img-fluid d-block mx-auto" style="width: 40px;">
                  <small>Nuevo Perfil</small>
                </div>

              </div>
               <!-- PANELES X ROL -->
              <div id="perfil" ng-hide="!selectedPerfil">
                <h2 class="mt-2">{{selectedPerfil.Descripcion}}</h2>
                <div class="row">
                  <div class="col-12">
                  <span ng-repeat="propiedad in selectedPerfil.Propiedades">
                      <div class="form-group">
                        {{propiedad.NombrePropiedad}}
                        <campo-propiedad>
                        </campo-propiedad>
                      <!--<label for="exampleFormControlTextarea1">{{propiedad.NombrePropiedad}}</label>
                      <input type="text" name="" value="" class="form-control" ng-model="propiedad.Valor">-->
                    </div>

                  </span>
                  </div>
                </div>

                <div class="mb-5">
                  <formulario-objeto ng-repeat="tipoObjeto in selectedPerfil.Objetos" class="mb-5">

                  </formulario-objeto>
                </div>

               <div class="col-12 mt-5  text-right">
                 <button type="button" class="btn btn-secondary btn-lg" ng-click="actualizarPerfil()">Guardar </button>
                 <button type="button" class="btn btn-secondary btn-lg" ng-click="eliminarPerfil()">Eliminar </button>
               </div>
               </div>
               <hr>
                <div id="perfil" ng-hide="!selectingPerfil" >
                 <h4>Selecciona un nuevo tipo perfil</h4>
                 <span class="row justify-content-center">
                   <div ng-click="selectNewPerfil($index)" class="col-2 rol p-2 m-1 text-center " ng-repeat="perfil in perfilesdisp">
                       <img ng-src="{{perfil.DataContenidoMM}}" alt="" class="img-fluid d-block mx-auto ico-perfil" style="width: 24px;">
                       <a class='mostrar-rol'><small>{{perfil.Descripcion}}</small></a>
                  </div>
                 </span>
                  <div class="col-12  text-right my-3">
                    <button type="button" class="btn btn-secondary btn-lg" ng-click="cancelNewPerfil()">Cancelar </button>
                  </div>
                </div>


            </uib-tab>
              <!--FIN  TAB 1 PERFIL -->
              <!--TAB 2 DATOS -->
            <uib-tab index="1" heading="DATOS PERSONALES">
                <small>Estos datos núnca serán mostrados</small>
                <ng-form name="">
                   <form class="mt-3">
                    <div class="form-row">
                      <div class="form-group col-md-6">
                        <label for="inputEmail4">Nombre</label>
                        <input type="text" class="form-control" id="inputEmail4" placeholder="Nombre">
                      </div>
                      <div class="form-group col-md-6">
                        <label for="inputPassword4">Apellidos</label>
                        <input type="text" class="form-control" id="inputPassword4" placeholder="Apellidos">
                      </div>
                    </div>

                    <div class="form-group">
                      <label for="inputAddress2">Dirección</label>
                      <input type="text" class="form-control" id="inputAddress2" placeholder="Calle, Avenida...">
                    </div>
                    <div class="form-row">
                      <div class="form-group col-md-6">
                        <label for="inputCity">Ciudad</label>
                        <input type="text" class="form-control" id="inputCity">
                      </div>
                      <div class="form-group col-md-4">
                        <label for="inputState">Provincia</label>
                        <select id="inputState" class="form-control">
                          <option selected>Selecciona...</option>
                          <option>...</option>
                        </select>
                      </div>
                      <div class="form-group col-md-2">
                        <label for="inputZip">CP</label>
                        <input type="text" class="form-control" id="inputZip">
                      </div>
                    </div>
                    <div class="form-group">
                      <div class="form-check">
                        <label class="form-check-label">
                          <input class="form-check-input" type="checkbox"> Acepto la política de privacidad de MUSICIEN
                        </label>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-6 offset-6 text-right">
                         <button type="submit" class="btn btn-primary">Guardar</button>
                      </div>
                    </div>

                  </form>
                </ng-form>
            </uib-tab>
              <!--FIN  TAB 2 DATOS -->
              <!--TAB 3 PERSONALIZAR -->
            <uib-tab index="2" heading="MIS SUSCRIPCIONES">
              <span infinite-scroll="LeerPlanes()" infinite-scroll-disabled="planescargados"></span>
             <div class="row">
               <div class="col-12 mt-2">
                 <h2>Suscripciones Activas</h2>
               </div>
               <div class="col-12">
                 Actualmente tienes activas las siguientes suscripciones
               </div>

             </div>

             <div class="row">
                 <div class="col-6 " ng-repeat="plan in planes">
                          <div class="card bg-light mb-3" style="max-width: 20rem;">
                                <div class="card-header">
                                    <div class="row">
                                      <div class="col-6"><h6>{{plan.NombrePlan}}</h6></div>
                                      <div class="col-6 text-right">
                                        <button type="button" class="btn btn-xs">
                                          <i class="fa fa-refresh" aria-hidden="true"></i>
                                        </button>
                                        <button type="button" class="btn  btn-xs btn-danger">
                                           <i class="fa fa-trash-o" aria-hidden="true"></i>
                                        </button>


                                        </div>
                                      </div>
                                  </div>
                                  <div class="card-body">
                                   <strong>Características:</strong>
                                    <ul>
                                      <li>{{plan.Titulo1}}</li>
                                      <li>{{plan.Titulo2}}</li>
                                      <li>{{plan.Titulo3}}</li>
                                    </ul>
                                    <span ng-repeat="tarifa in plan.Tarifas">
                                      <p>
                                        <strong>Tipo:</strong>
                                                     {{tarifa.NombrePeriodicidad}}
                                      </p>
                                      <p>
                                        <strong>Vigencia:</strong>
                                                     {{plan.FechaFin}}
                                                     </p>
                                    </span>

                                     <div class="row">

                                    </div>





                                                </div>
                                              </div>
                                            </div>
                    <div class="col-6 ">
                          <div class="card bg-light mb-3" style="max-width: 20rem;">
                                <div class="card-header">
                                    <div class="row">
                                      <div class="col-6"><h6> Compra/venta y Alquiler</h6></div>
                                      <div class="col-6 text-right">
                                         <button type="button" class="btn  btn-xs">
                                           <i class="fa fa-refresh" aria-hidden="true"></i>
                                        </button>
                                        <button type="button" class="btn btn-danger  btn-xs">
                                           <i class="fa fa-trash-o" aria-hidden="true"></i>
                                        </button>

                                        </div>
                                      </div>
                                  </div>
                                  <div class="card-body">
                                    <strong>Carracterísticas:</strong>
                                    <ul>
                                      <li>Compra Venta <small>(anuncio)</small></li>
                                    </ul>
                                    <p>
                                      <strong>Tipo:</strong>
                                                   Mensual
                                    </p>
                                    <p>
                                      <strong>Vigencia:</strong>
                                                   Hasta 30-12-2017 <br><small style="color:red">(Este producto caduca en X días)</small>
                                                   </p>







                                                </div>
                                              </div>
                                            </div>
                                            <div class="col-6 ">

                                            </div>
               </div>

               <hr>

               <div class="row">
                 <div class="col-12">
                   <h3> Planes y Promociones</h3>
                   <p>Échale un vistazo a todos nuestros planes y promociones y contratalos con un click</p>
                 </div>
                 <div class="col-12">
                     <div class="card bg-light mb-3" >
                                <div class="card-header">
                                    <div class="row">
                                      <div class="col-12"><h5> <strong>Clases Particulares</strong> ¡PRIMER MES GRATIS!</h5></div>
                                     <!--  <div class="col-6 text-right">
                                         <button type="button" class="btn  btn-xs">
                                           <i class="fa fa-refresh" aria-hidden="true"></i>
                                        </button>


                                        </div> -->
                                      </div>
                                  </div>
                                  <div class="card-body">
                                  <div class="row text-center">
                                    <div class="col-12">
                                      <div class="contenedor" style="width: 100%;
                                                                    height: 150px;
                                                                    overflow: hidden;
                                                                    position: relative;">
                                        <img src="img/plan3.jpg" alt="" class="img-fluid" style="position: absolute;
                                                  left: -100%;
                                                  right: -100%;
                                                  top: -100%;
                                                  bottom: -100%;
                                                  margin: auto;
                                                  min-height: 100%;
                                                  min-width: 100%;
                                                  object-fit: cover;">
                                      </div>

                                    </div>
                                  </div>
                                  <div class="col-12 text-center">
                                    <p>¿Sabes tocar un instrumento y te gustaría enseñar a otras personas hacerlo?</p>
                                  </div>

                                    <div class="row text-center">
                                      <div class="col-12 text-center">

                                      </div>
                                      <div class="col-6">
                                        <h4>8.00€</h4>
                                        <strong>Mensual</strong>
                                        <p><small>(1 mes + 1 mes gratis)</small></p>
                                         <button type="button" class="btn btn-primary  btn-xs">
                                           <i class="fa fa-refresh" aria-hidden="true"> </i> <small>Contratar</small>
                                        </button>
                                      </div>
                                       <div class="col-6">
                                        <h4>22.00€</h4>
                                        <strong>Trimestral</strong>
                                         <p><small>(3 meses + 1 mes gratis)</small></p>
                                         <button type="button" class="btn btn-primary  btn-xs">
                                           <i class="fa fa-refresh" aria-hidden="true"> </i> <small>Contratar</small>
                                        </button>
                                      </div>
                                    </div>









                                                </div>
                                              </div>
                 </div>
                 <div class="col-12">
                     <div class="card bg-light mb-3" >
                                <div class="card-header">
                                    <div class="row">
                                      <div class="col-12"><h5> <strong>Premium Tutti</strong> - Tenerlo todo nunca fue tan fácil </h5></div>
                                     <!--  <div class="col-6 text-right">
                                         <button type="button" class="btn  btn-xs">
                                           <i class="fa fa-refresh" aria-hidden="true"></i>
                                        </button>


                                        </div> -->
                                      </div>
                                  </div>
                                  <div class="card-body">
                                  <div class="row text-center">
                                    <div class="col-12">
                                      <div class="contenedor" style="width: 100%;
                                                                    height: 150px;
                                                                    overflow: hidden;
                                                                    position: relative;">
                                        <img src="img/planb.jpg" alt="" class="img-fluid" style="position: absolute;
                                                  left: -100%;
                                                  right: -100%;
                                                  top: -100%;
                                                  bottom: -100%;
                                                  margin: auto;
                                                  min-height: 100%;
                                                  min-width: 100%;
                                                  object-fit: cover;">
                                      </div>

                                    </div>
                                  </div>
                                  <div class="col-12 text-center">
                                     <p>¡PRIMER MES GRATIS + DESCUENTO DE 5€!</p>
                                  </div>

                                    <div class="row text-center">
                                      <div class="col-12 text-center">

                                      </div>
                                      <div class="col-6">
                                        <h4>15.00€</h4>
                                        <strong>Mensual</strong>
                                        <p><small>(1 mes + 1 mes gratis)</small></p>
                                         <button type="button" class="btn btn-primary  btn-xs">
                                           <i class="fa fa-refresh" aria-hidden="true"> </i> <small>Contratar</small>
                                        </button>
                                      </div>
                                       <div class="col-6">
                                        <h4>50.00€</h4>
                                        <strong>Trimestral</strong>
                                         <p><small>(3 meses + 1 mes gratis)</small></p>
                                         <button type="button" class="btn btn-primary  btn-xs">
                                           <i class="fa fa-refresh" aria-hidden="true"> </i> <small>Contratar</small>
                                        </button>
                                      </div>
                                    </div>









                                                </div>
                                              </div>
                 </div>
                 <div class="col-12">
                     <div class="card bg-light mb-3" >
                                <div class="card-header">
                                    <div class="row">
                                      <div class="col-12"><h5> <strong>Premium Bis</strong> - A tu medida </h5></div>
                                     <!--  <div class="col-6 text-right">
                                         <button type="button" class="btn  btn-xs">
                                           <i class="fa fa-refresh" aria-hidden="true"></i>
                                        </button>


                                        </div> -->
                                      </div>
                                  </div>
                                  <div class="card-body">
                                  <div class="row text-center">
                                    <div class="col-12 text-center">
                                      <div class="contenedor" style="width: 100%;
                                                                    height: 150px;
                                                                    overflow: hidden;
                                                                    position: relative;">
                                        <img src="img/plant.jpg" alt="" class="img-fluid" style="position: absolute;
                                                  left: -100%;
                                                  right: -100%;
                                                  top: -100%;
                                                  bottom: -100%;
                                                  margin: auto;
                                                  min-height: 100%;
                                                  min-width: 100%;
                                                  object-fit: cover;">
                                      </div>

                                    </div>
                                  </div>
                                  <div class="col-12 text-center">
                                    <p>¡PRIMER MES GRATIS + DESCUENTO DE 3€!</p>
                                    <p>¿Necesitas varios planes? Selecciona los 2 planes que más te gusten</p>
                                  </div>

                                    <div class="row text-center">
                                      <div class="col-12 text-center">

                                      </div>
                                      <div class="col-6">

                                        <strong>Mensual</strong>
                                        <p><small>(1 mes + 1 mes gratis)</small></p>
                                         <button type="button" class="btn btn-primary  btn-xs">
                                           <i class="fa fa-refresh" aria-hidden="true"> </i> <small>Contratar</small>
                                        </button>
                                      </div>
                                       <div class="col-6">

                                        <strong>Trimestral</strong>
                                         <p><small>(3 meses + 1 mes gratis)</small></p>
                                         <button type="button" class="btn btn-primary  btn-xs">
                                           <i class="fa fa-refresh" aria-hidden="true"> </i> <small>Contratar</small>
                                        </button>
                                      </div>
                                    </div>









                                                </div>
                                              </div>
                 </div>


               </div>
            </uib-tab>
            <!-- FIN TAB 3 PERSONALIZAR -->
          </uib-tabset>
        </form>



      </div>

     <div class="col-md-3 "  >
         <div sticky offset="60px" offset="70px">
            <div class="p-2  col-derecha  " >
               <div class="col-derecha p-2 text-center " >
                      <small>Contrata nuestros planes y promos</small>
                      <h4 class="grey"> <img src="img/planes.png" class="img-fluid"> Planes Musicien</h4>
                      <div class="col-12">
                        <img src="img/plan3.jpg" alt="" class="img-fluid img-thumbnail">
                        <h6>Compraventa - Alquiler</h6>
                        <h6>Sala de Conciertos</h6>
                        <h6>Grupos y Salas</h6>
                      </div>
                      <hr>
                       <h4 class="grey"> <img src="img/victoria.png" class="img-fluid"> Promos</h4>

                        <div class="col-12">
                        <h6 class="mb-0">Premium Tutti</h6><small class="text-muted"> Tenerlo todo nunca fue tan fácil</small>
                          <hr>
                        <h6 class="mb-0">Premium Bis </h6>
                        <small class="text-muted"> El Plan a tu medida</small>
                        <button type="" class="btn btn-primary">Más Informarción</button>
                      </div>


                  </div>



            </div>
          </div>
      </div>
    </div>
  </div>
</div>
